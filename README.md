#Popo JS

*A JavaScript library for positioning elements*

Popo JS is a stand-alone cross-browser JavaScript library that makes it easy to position elements relative to other elements in various ways. Popo JS is heavily influenced by **[jQuery UI Position plugin](http://jqueryui.com/position/)**.

The goal of Popo JS is making dynamic positioning of html elements as simple and flexible as possible in all modern (and not so modern) browsers. The library has a set of unit tests, which seem to pass fully all the way back to IE7.

##Get started

Just download Popo JS library and include it in your HTML Document and you're good to go.

```html
<script src="popo.min.js"></script>
```

##Usage

Popo has two methods: <code>get</code> and <code>set</code>. The set method sets the target element's left and top values while the get method only calculates and returns the values. Both methods require the target element as the first argument. Additionally you can provide an options object as the second argument.

###Format

```javascript
window.popo[methodName]( targetElement, options );
```

###Prequisites

* Target's CSS position property must be *relative*, *absolute* or *fixed*.
* The CSS display property of target, base and container must not be *none*.

##Examples

To make the examples a bit easier on the eyes, let's assume that you have at least three elements in your HTML document with ids *target*, *base* and *container*.

```javascript
var target = document.getElementById("target"),
    base = document.getElementById("base"),
    container = document.getElementById("container");
```

__EX-1:__ Use <code>set</code> method to position target on top of base.

```javascript
window.popo.set( target, {
  position: "n",
  base: base
});
```

__EX-2:__ Use <code>get</code> method to retrieve target's position without actually positioning the target.

```javascript
var position = window.popo.get( target, {
  position: "n",
  base: base
});

// The get method returns and object containing the final left and top values
var left = position.left,
    top = position.top;
```

__EX-3:__ A stupidly complex example explaining the options a bit more detailed.

```javascript
window.popo.set( target, {

  // The syntax here is similar to jQuery UI Position plugin
  // => "targetX targetY baseX baseY"
  position: "center top left bottom",
  
  // A compulsory base elment that defines which element
  // the target element is positioned against. Defaults to window.
  base: base,
  
  // An optional container element that is used for
  // collision detection. Defaults to null.
  container: container,
  
  // Define a single offset or multiple offsets
  // separated with comma.
  offset: "12, 30deg -600, -56 98, 1000deg 9",
  
  // Define a collision method for each side
  // => "left top right bottom"
  // Methods: "none", "push", "push!"
  collision: "push! none push push",
  
  // Add an autogenerated className to target
  setClass: true,

  // A callback function which is called just before the final position
  // is set (with set method) or returned (with get method)
  onBeforeExec: function (target, base, container) {

    // The three arguments available in this function contain all the data
    // that is used for the position calculations. You can manipulate
    // the final position inside this function if you want, just
    // get target.position.left and target.position.top and modify
    // their values as you wish.

    // Note that you have to define a container element in options
    // in order for the container argument to exist in this function.
    
    // The arguments opened up
    // =======================
    
    // target.element
    // target.width
    // target.height
    // target.ZeroPointOffset.left
    // target.ZeroPointOffset.top
    // target.position.left => the final left value
    // target.position.top  => the final top value
    
    // base.element
    // base.width
    // base.height
    // base.offset.left
    // base.offset.top

    // container.element
    // container.width
    // container.height
    // container.offset.left
    // container.offset.top
    // container.overflow.left
    // container.overflow.right
    // container.overflow.top
    // container.overflow.bottom
    
    // For demonstration purposes let's adjust the final left and top values
    target.position.top += 10;
    target.position.left -= 800;

  },

  // A callback function which is called just before the final position
  // is set (with set method)
  onAfterExec: function (target, base, container) {

    // Only available when using set method. Has absolutely no effect if you
    // are using get method. Note also that you have to define a container 
    // element in options in order for the container argument to exist in 
    // this function.
    
    // Contains same arguments as onBeforeExec callback.
    
  }
});
```

## Options

Property | Default | Type | Description
--- | --- | --- | ---
`position` | "n" | *String* | <p>Defines the target element's position relative to the base element. The format is "targetX targetY baseX baseY". A horizontal position can be `left`, `right` or `center` while a vertical position can be `top`, `bottom` or `center`.</p><p>Alternatively, you can use a single shortcut value: `nw`, `n`, `ne`, `e`, `se`, `s`, `sw`, `w`, `center`.</p>
`offset` | "0", | String | <p>Defines a horizontal and a vertical offset (in pixels). For basic usage provide the option with a string containing two numbers (e.g. "-12 90"). The format is "*offsetX offsetY*". One number will be used for both offsets (e.g. "10").</p><p>For a bit more advanced usage you can define an angular offset by providing the option with an angle in degrees and a distance in pixels (e.g. "120deg 300"). Note that the first value must have the trailing "deg" string for Popo to identify the offset as an angular offset. Also note that zero degrees points to east.</p><p>For even more advanced usage you can provide the option with multiple offsets by separating the different offsets with a comma (e.g. "12, 30deg -600, -56 98, 1000deg 9").</p>

## License

Copyright (c) 2013 Niklas Rämö Licensed under the MIT license.
